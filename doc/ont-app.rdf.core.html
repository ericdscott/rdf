<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>ont-app.rdf.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Rdf</span> <span class="project-version">0.1.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ont-app</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rdf</span></div></div></li><li class="depth-3 branch current"><a href="ont-app.rdf.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3"><a href="ont-app.rdf.ont.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ont</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ont-app.rdf.core.html#var-ask-s-p-o"><div class="inner"><span>ask-s-p-o</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-ask-s-p-o-template"><div class="inner"><span>ask-s-p-o-template</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-bnode-kwi.3F"><div class="inner"><span>bnode-kwi?</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-check-ns-metadata"><div class="inner"><span>check-ns-metadata</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-check-qname"><div class="inner"><span>check-qname</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-normal-form-query-template"><div class="inner"><span>normal-form-query-template</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-ontology"><div class="inner"><span>ontology</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-prefixed"><div class="inner"><span>prefixed</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-query-for-normal-form"><div class="inner"><span>query-for-normal-form</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-query-for-o"><div class="inner"><span>query-for-o</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-query-for-o-template"><div class="inner"><span>query-for-o-template</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-query-for-p-o"><div class="inner"><span>query-for-p-o</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-query-for-p-o-template"><div class="inner"><span>query-for-p-o-template</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-query-for-subjects"><div class="inner"><span>query-for-subjects</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-quote-str"><div class="inner"><span>quote-str</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-read-transit-json"><div class="inner"><span>read-transit-json</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-render-literal"><div class="inner"><span>render-literal</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-render-literal-as-transit-json"><div class="inner"><span>render-literal-as-transit-json</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-render-literal-dispatch"><div class="inner"><span>render-literal-dispatch</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-render-transit-json"><div class="inner"><span>render-transit-json</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-special-literal-dispatch"><div class="inner"><span>special-literal-dispatch</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-subjects-query-template"><div class="inner"><span>subjects-query-template</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-transit-re"><div class="inner"><span>transit-re</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-transit-read-handlers"><div class="inner"><span>transit-read-handlers</span></div></a></li><li class="depth-1"><a href="ont-app.rdf.core.html#var-transit-write-handlers"><div class="inner"><span>transit-write-handlers</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">ont-app.rdf.core</h1><div class="doc"><pre class="plaintext">This is a backstop for shared logic between various RDF-based
  implementations of IGraph. 
It includes:
- support for LangStr using the #lstr custom reader
- support for ^^transit:json datatype tags
- templating utilities for the standard IGraph member access methods.
 </pre></div><div class="public anchor" id="var-ask-s-p-o"><h3>ask-s-p-o</h3><div class="usage"><code>(ask-s-p-o ask-fn rdf-store s p o)</code><code>(ask-s-p-o graph-uri ask-fn rdf-store s p o)</code></div><div class="doc"><pre class="plaintext">Returns true if `s` `p` `o` is a triple at endpoint of `rdf-store`
Where:
  &lt;s&gt; &lt;p&gt; &lt;o&gt; are subject, predicate and object
  &lt;rdf-store&gt; is an RDF store
  &lt;graph-uri&gt; is a URI or KWI naming the graph (or nil if DEFAULT graph)
  &lt;ask-fn&gt; := fn [repo] -&gt; bindings</pre></div></div><div class="public anchor" id="var-ask-s-p-o-template"><h3>ask-s-p-o-template</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-bnode-kwi.3F"><h3>bnode-kwi?</h3><div class="usage"><code>(bnode-kwi? kwi)</code></div><div class="doc"><pre class="plaintext">True when `kwi` matches output of `bnode-translator`.
</pre></div></div><div class="public anchor" id="var-check-ns-metadata"><h3>check-ns-metadata</h3><div class="usage"><code>(check-ns-metadata kwi)</code></div><div class="doc"><pre class="plaintext">Logs a warning when `kwi` is in a namespace with no metadata.
</pre></div></div><div class="public anchor" id="var-check-qname"><h3>check-qname</h3><div class="usage"><code>(check-qname uri-spec)</code></div><div class="doc"><pre class="plaintext">Traps the keyword assertion error in voc and throws a more meaningful error 
about blank nodes not being supported as first-class identifiers.</pre></div></div><div class="public anchor" id="var-normal-form-query-template"><h3>normal-form-query-template</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-ontology"><h3>ontology</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-prefixed"><h3>prefixed</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-query-for-normal-form"><h3>query-for-normal-form</h3><div class="usage"><code>(query-for-normal-form query-fn rdf-store)</code><code>(query-for-normal-form graph-uri query-fn rdf-store)</code></div><div class="doc"><pre class="plaintext">Returns IGraph normal form for &lt;graph&gt; named by `graph-uri` in `rdf-store`
Where
&lt;graph&gt; is a named graph in &lt;rdf-store&gt;
&lt;graph-uri&gt; is a URI or KWI naming the graph (default nil -&gt; DEFAULT graph)
&lt;rdf-store&gt; is an RDF store 
&lt;query-fn&gt; := fn [rdf-store sparql-query] -&gt; #{&lt;bmap&gt;, ...}
&lt;bmap&gt; := {:?s :?p :?o}
&lt;sparql-query&gt; :- `normal-form-query-template`
</pre></div></div><div class="public anchor" id="var-query-for-o"><h3>query-for-o</h3><div class="usage"><code>(query-for-o query-fn rdf-store s p)</code><code>(query-for-o graph-uri query-fn rdf-store s p)</code></div><div class="doc"><pre class="plaintext">Returns #{&lt;o&gt;...} for `s` and `p` at endpoint of `rdf-store`
Where:
  &lt;o&gt; is an object rendered per binding translator of &lt;rdf-store&gt;
  &lt;s&gt; is a subject URI rendered per binding translator of &lt;rdf-store&gt;
  &lt;p&gt; is a predicate URI rendered per binding translator of &lt;rdf-store&gt;
  &lt;rdf-store&gt; is an RDF store
  &lt;query-fn&gt; := fn [repo] -&gt; bindings
  &lt;graph-uri&gt; is a URI or KWI naming the graph (or nil if DEFAULT graph)
  </pre></div></div><div class="public anchor" id="var-query-for-o-template"><h3>query-for-o-template</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-query-for-p-o"><h3>query-for-p-o</h3><div class="usage"><code>(query-for-p-o query-fn rdf-store s)</code><code>(query-for-p-o graph-uri query-fn rdf-store s)</code></div><div class="doc"><pre class="plaintext">Returns {&lt;p&gt; #{&lt;o&gt;...}...} for `s` at endpoint of `rdf-store`
Where
  &lt;p&gt; is a predicate URI rendered per binding translator of &lt;rdf-store&gt;
  &lt;o&gt; is an object value, rendered per the binding translator of &lt;rdf-store&gt;
  &lt;s&gt; is a subject uri keyword. ~ voc/voc-re
  &lt;rdf-store&gt; is and RDF store.
  &lt;query-fn&gt; := fn [repo] -&gt; bindings
  &lt;graph-uri&gt; is a URI or KWI naming the graph (or nil if DEFAULT graph)</pre></div></div><div class="public anchor" id="var-query-for-p-o-template"><h3>query-for-p-o-template</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-query-for-subjects"><h3>query-for-subjects</h3><div class="usage"><code>(query-for-subjects query-fn rdf-store)</code><code>(query-for-subjects graph-uri query-fn rdf-store)</code></div><div class="doc"><pre class="plaintext">Returns [&lt;subject&gt; ...] at endpoint of `rdf-store`
Where
  &lt;subject&gt; is the uri of a subject from &lt;rdf-store&gt;, 
  rendered per the binding translator of &lt;rdf-store&gt;
  &lt;rdf-store&gt; conforms to ::sparql-client spec
  &lt;query-fn&gt; := fn [repo] -&gt; bindings
  &lt;graph-uri&gt; is a URI  or KWI naming the graph  (or nil if DEFAULT graph)</pre></div></div><div class="public anchor" id="var-quote-str"><h3>quote-str</h3><div class="usage"><code>(quote-str s)</code></div><div class="doc"><pre class="plaintext">Returns `s`, in escaped quotation marks.
Where
&lt;s&gt; is a string, typically to be rendered in a query or RDF source.</pre></div></div><div class="public anchor" id="var-read-transit-json"><h3>read-transit-json</h3><div class="usage"><code>(read-transit-json s)</code></div><div class="doc"><pre class="plaintext">Returns a value parsed from transit string `s`
Where
&lt;s&gt; is a &amp;quot;-escaped string encoded as transit
Note: custom datatypes will be informed by @transit-read-handlers
</pre></div></div><div class="public anchor" id="var-render-literal"><h3>render-literal</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Returns an RDF (Turtle) rendering of `literal`
</pre></div></div><div class="public anchor" id="var-render-literal-as-transit-json"><h3>render-literal-as-transit-json</h3><div class="usage"><code>(render-literal-as-transit-json x)</code></div><div class="doc"><pre class="plaintext">Returns 'x^^transit:json'
NOTE: this will be encoded on write and decoded on read by the
  cognitect/transit library.</pre></div></div><div class="public anchor" id="var-render-literal-dispatch"><h3>render-literal-dispatch</h3><div class="usage"><code>(render-literal-dispatch literal)</code></div><div class="doc"><pre class="plaintext">Returns a key for the render-literal method to dispatch on given `literal`
Where
&lt;literal&gt; is any non-keyword
NOTE: LangStr and non-nil `special-dispatch` are special cases; otherwise
  (type &lt;literal&gt;)
</pre></div></div><div class="public anchor" id="var-render-transit-json"><h3>render-transit-json</h3><div class="usage"><code>(render-transit-json value)</code></div><div class="doc"><pre class="plaintext">Returns a string of transit for `value`
Where
&lt;value&gt; is any value that be handled by cognitict/transit
Note: custom datatypes will be informed by @transit-write-handlers
</pre></div></div><div class="public anchor" id="var-special-literal-dispatch"><h3>special-literal-dispatch</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A function [x] -&gt; &lt;dispatch-value&gt;
Where
&lt;x&gt; is any value, probabaly an RDF literal
&lt;dispatch-value&gt; is a value to be matched to a render-literal-dispatch method.
Default is to return nil, signalling no special dispatch.</pre></div></div><div class="public anchor" id="var-subjects-query-template"><h3>subjects-query-template</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-transit-re"><h3>transit-re</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Matches data tagged as transit:json
</pre></div></div><div class="public anchor" id="var-transit-read-handlers"><h3>transit-read-handlers</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Atom of the form {&lt;className&gt; &lt;read-handler&gt;
Where
&lt;className&gt; is a fully qualified string naming a class to be encoded
&lt;read-handler&gt; := fn [from-rep] -&gt; &lt;instance&gt;
&lt;from-rep&gt; := an Object s.t. (&lt;field&gt; from-rep), encoded in corresponding
  write-handler in @`transit-write-handlers`.
</pre></div></div><div class="public anchor" id="var-transit-write-handlers"><h3>transit-write-handlers</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Atom of the form {&lt;Class&gt; &lt;write-handler&gt;, ...}
Where
&lt;Class&gt; is a direct reference to the class instance to be encoded
&lt;write-handler&gt; := fn [s] -&gt; {&lt;field&gt; &lt;value&gt;, ...}
</pre></div></div></div></body></html>